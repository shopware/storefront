"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["plugin_rating-system_rating-system_plugin_js"],{5376:(t,i,s)=>{s.r(i),s.d(i,{default:()=>r});var e=s(9568),n=s(4049),a=s(3266);class r extends e.Z{init(){this._ratingPoints=n.Z.querySelectorAll(this.el,"["+this.options.reviewPointAttr+"]"),this._textWrappers=n.Z.querySelectorAll(this.el,"["+this.options.ratingTextAttr+"]",!1),this._maxRating=null,this._ratingPoints&&this._registerEvents()}_registerEvents(){a.Z.iterate(this._ratingPoints,t=>{t.addEventListener("click",this._onClickRating.bind(this))})}_onClickRating(t){let i=t.currentTarget.getAttribute(this.options.reviewPointAttr);this._maxRating&&this._maxRating<i||this.setRating(i)}setRating(t){a.Z.iterate(this._ratingPoints,i=>{i.getAttribute(this.options.reviewPointAttr)<=t?i.classList.add(this.options.activeClass):i.classList.remove(this.options.activeClass),i.addEventListener("click",this._showInfoText.bind(this))})}resetRating(){a.Z.iterate(this._ratingPoints,t=>{t.classList.remove(this.options.activeClass)})}getRating(){let t=n.Z.querySelectorAll(this.el,"[".concat(this.options.reviewPointAttr,"].").concat(this.options.activeClass),!1);return t?t.length:0}setMaxRating(t){this._maxRating=t}_showInfoText(t){let i=t.target.value;a.Z.iterate(this._textWrappers,t=>{t.hasAttribute("".concat(this.options.ratingTextAttr))&&(t.getAttribute("".concat(this.options.ratingTextAttr))===i?t.classList.remove(this.options.hiddenClass):t.classList.add(this.options.hiddenClass))})}}r.options={reviewPointAttr:"data-review-form-point",ratingTextAttr:"data-rating-text",activeClass:"is-active",hiddenClass:"d-none"}}}]);